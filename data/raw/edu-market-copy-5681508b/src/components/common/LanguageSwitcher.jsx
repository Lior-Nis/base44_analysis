import React, { useState } from 'react';
import {
  DropdownMenu,
  DropdownMenuContent,
  DropdownMenuItem,
  DropdownMenuTrigger,
} from "@/components/ui/dropdown-menu";
import { Button } from "@/components/ui/button";
import { Globe } from 'lucide-react';

const languages = [
    { code: 'en', name: 'English', flag: 'ðŸ‡ºðŸ‡¸' },
    { code: 'es', name: 'Spanish', flag: 'ðŸ‡ªðŸ‡¸' },
    { code: 'ar', name: 'Arabic', flag: 'ðŸ‡¸ðŸ‡¦' },
    { code: 'zh', name: 'Chinese', flag: 'ðŸ‡¨ðŸ‡³' },
    { code: 'ja', name: 'Japanese', flag: 'ðŸ‡¯ðŸ‡µ' },
];

export default function LanguageSwitcher() {
    const [selectedLanguage, setSelectedLanguage] = useState(languages[0]);

    // In a real app, this would trigger a language change in a context provider (e.g., i18next)
    const handleLanguageChange = (lang) => {
        setSelectedLanguage(lang);
        // e.g., i18n.changeLanguage(lang.code);
        alert(`Language changed to ${lang.name}. Full translation requires an i18n library.`);
    };

    return (
        <DropdownMenu>
            <DropdownMenuTrigger asChild>
                <Button variant="outline" size="icon">
                    <Globe className="h-[1.2rem] w-[1.2rem]" />
                    <span className="sr-only">Change language</span>
                </Button>
            </DropdownMenuTrigger>
            <DropdownMenuContent align="end">
                {languages.map((lang) => (
                    <DropdownMenuItem key={lang.code} onClick={() => handleLanguageChange(lang)}>
                        <span className="mr-2">{lang.flag}</span>
                        <span>{lang.name}</span>
                    </DropdownMenuItem>
                ))}
            </DropdownMenuContent>
        </DropdownMenu>
    );
}